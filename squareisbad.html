<script>
document.addEventListener("DOMContentLoaded", (event) => {
let oldHref =window.location.pathname;
  console.log(oldHref);
function appendElementToDocument(tagName, textContent) {
  const newElement = document.createElement(tagName);
if (textContent) {
    newElement.textContent = textContent;
  }
  document.body.appendChild(newElement);
}


function checkPage() { if (oldHref == "/") {
appendElementToDocument('p', "I Don't Like Square");
  } else if (oldHref == "/about") {
    alert("We're About!!");
  }
else if (oldHref == "/s/shop") {
    alert("We're Shopping!!");
  }
};
checkPage();

  const observeUrlChange = () => {
    const body = document.querySelector('body');
    const observer = new MutationObserver(mutations => {
      if (oldHref !== document.location.pathname) {
        oldHref = document.location.pathname;
  console.log(oldHref);
  checkPage();
      }
    });
    observer.observe(body, { childList: true, subtree: true });
  };
  
  window.onload = observeUrlChange;
  

  });



</script>


<script>
async function checkForElement(elementID, maxRetries = 50, delay = 300) {
  for (let i = 0; i < maxRetries; i++) {
    const el = await document.getElementById(elementID);
    if (el) {
      console.log('Element found:', el);
      return el;
    }

    console.log(`Element not found, retrying... (${i + 1}/${maxRetries})`);
    await new Promise(resolve => setTimeout(resolve, delay));
  }

  console.warn(`Element ${elementID} not found after ${maxRetries} attempts.`);
  return null;
}

async function handleElement(elementID, elementInnerHTML) {
let aboutimg = await checkForElement(elementID);
if (aboutimg) {
console.log('Success at long last!!!');
aboutimg.innerHTML= elementInnerHTML;
}
else {
console.log("I'm done");
}
}
document.addEventListener("DOMContentLoaded", () => {
handleElement('about-us-image', '<h1>Suck A Square</h1>');

});

</script>
